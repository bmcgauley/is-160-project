# Data Model: Build a Convolutional Neural Network for Employment Trends Analysis

**Date**: 2025-09-24
**Purpose**: Define data structures and relationships for QCEW employment analysis

## Overview
The data model represents California's Quarterly Census of Employment and Wages (QCEW) data transformed for CNN-based employment trend prediction. The model captures temporal, geographic, and industry dimensions of employment data.

## Core Entities

### Employment Record
**Purpose**: Raw quarterly employment data from QCEW
**Attributes**:
- `quarter`: Date (YYYY-Q1/Q2/Q3/Q4 format)
- `area_code`: Geographic identifier (county FIPS code)
- `industry_code`: NAICS industry classification
- `employment_count`: Total employment (integer)
- `wage_sum`: Total wages paid (float)
- `avg_wage`: Average weekly wage (float)
- `data_source`: QCEW release version

**Relationships**:
- Many-to-one with Geographic Area
- Many-to-one with Industry Classification
- Ordered by time within geographic/industry groups

**Constraints**:
- Employment count > 0
- Wage values > 0
- Valid geographic codes only
- Chronological order preserved

### Geographic Area
**Purpose**: Geographic boundaries and metadata
**Attributes**:
- `area_code`: FIPS code (primary key)
- `area_name`: County/city name
- `state_code`: State FIPS code
- `population`: Latest population estimate
- `area_type`: County/City/Metro Area
- `coordinates`: Geographic centroid (lat/lng)

**Relationships**:
- One-to-many with Employment Records
- Many-to-many with neighboring areas (spatial adjacency)

### Industry Classification
**Purpose**: NAICS industry hierarchy and metadata
**Attributes**:
- `industry_code`: NAICS code (primary key)
- `industry_name`: Industry description
- `sector_code`: 2-digit sector code
- `sector_name`: Sector description
- `industry_level`: Detail level (2/3/4/5/6 digit)

**Relationships**:
- One-to-many with Employment Records
- Hierarchical (parent/child relationships)

### Feature Set
**Purpose**: Engineered features for CNN input
**Attributes**:
- `quarter`: Time period
- `area_code`: Geographic identifier
- `employment_growth_qtr`: Quarter-over-quarter growth rate
- `employment_growth_year`: Year-over-year growth rate
- `seasonal_adjustment`: Deseasonalized employment
- `industry_concentration`: Herfindahl index for area
- `spatial_autocorr`: Neighboring area correlation
- `temporal_volatility`: Rolling standard deviation
- `economic_cycle_indicator`: Business cycle proxy

**Relationships**:
- Derived from Employment Records
- Input to Prediction Model

**Constraints**:
- Normalized to [-1, 1] range
- No missing values (imputed)
- Temporal consistency maintained

### Prediction Model
**Purpose**: CNN model for employment forecasting
**Attributes**:
- `model_id`: Unique identifier
- `architecture`: CNN configuration (layers, parameters)
- `training_config`: Hyperparameters and settings
- `performance_metrics`: Validation results
- `prediction_horizon`: Forecast periods (1-4 quarters)
- `feature_importance`: Key predictors identified

**Relationships**:
- Consumes Feature Sets
- Produces Predictions

### Prediction
**Purpose**: Employment forecast outputs
**Attributes**:
- `prediction_id`: Unique identifier
- `model_id`: Reference to model used
- `quarter`: Forecast quarter
- `area_code`: Geographic target
- `predicted_change`: Expected employment change (%)
- `confidence_interval`: Prediction uncertainty
- `baseline_comparison`: vs traditional methods

**Relationships**:
- Generated by Prediction Model
- Referenced by Validation Report

### Validation Report
**Purpose**: Data quality and model validation results
**Attributes**:
- `report_id`: Unique identifier
- `validation_type`: Data/Model validation
- `target_period`: Time period checked
- `issues_found`: Problems identified
- `severity_score`: Impact assessment
- `resolution_status`: Fixed/Pending/Accepted
- `recommendations`: Suggested actions

**Relationships**:
- References Employment Records or Predictions
- Used for quality assurance

## Data Flow

### Input Processing
1. Raw QCEW CSV files loaded into Employment Records
2. Geographic/Industry metadata joined
3. Temporal ordering validated
4. Missing data imputed

### Feature Engineering
1. Employment Records aggregated by time/geography/industry
2. Growth rates and seasonal adjustments calculated
3. Spatial features computed from geographic relationships
4. Features normalized and validated

### Model Processing
1. Feature Sets converted to tensors
2. CNN processes spatio-temporal patterns
3. Predictions generated with uncertainty estimates
4. Results validated against baselines

## Data Quality Rules

### Completeness
- No missing quarters in time series > 5 years
- Geographic coverage > 95% of California counties
- Industry coverage > 90% of major sectors

### Accuracy
- Employment counts within Â±10% of known benchmarks
- Wage data consistent with industry standards
- Geographic codes valid and current

### Consistency
- Temporal trends smooth (no >50% quarter changes without explanation)
- Geographic patterns correlate with known economic relationships
- Industry classifications stable over time

### Timeliness
- Data updated quarterly
- Processing completes within 24 hours of release
- Predictions available within 1 week of quarter end

## Storage Considerations

### Raw Data
- CSV files stored in `data/raw/`
- Compressed archives for historical data
- Metadata files for data dictionary

### Processed Data
- Parquet format for efficient querying
- Partitioned by quarter/geography
- Indexed for fast feature extraction

### Model Artifacts
- PyTorch model files in `models/`
- Training logs and checkpoints
- Performance metrics history

### Outputs
- Prediction results in database/API
- Validation reports in `reports/`
- Visualizations in `figures/`